# 商品提案書自動作成エージェント 実装計画書

## ゴール (Goal)
商品名と価格を入力するだけで、以下の要素を含む「商品提案書」を自動生成するエージェント（スクリプト）を作成します。
1. 商品情報の構造化（スペック、特徴）
2. お客様ベネフィットの抽出
3. 商品画像（検索、または添付）
4. 納品価格（手動入力）
5. 推奨コメント（ベネフィット要約）

## ユーザー確認事項 (User Review Required)
> [!IMPORTANT]
> **画像の「正面からの全体像への加工」について**
> 既存の画像をAIで「正面向きに回転させる」処理は、高難易度かつ歪みが生じやすい技術です。
> 代替案として、**「Web検索時に『正面』『白背景』などのキーワードを含めて最適な画像を探す」** アプローチを基本とし、手持ち画像がある場合はそれをそのまま使用するフローを提案します。

> [!NOTE]
> **使用ツール・コスト**
> - **ロジック**: Pythonスクリプト (Antigravity上で実行)
> - **頭脳**: Google Gemini API (コンテンツ生成)
> - **目**: Google Custom Search API または DuckDuckGo (画像検索)
> - **出力**: Markdownファイル (Obsidianで閲覧可能) または HTML (共有用)
> ※ Gemini APIキーが必要です（すでにお持ちかと思いますが確認します）。

## 提案フロー (Proposed Workflow)

### ユーザーのアクション
Antigravity（このチャット）で以下のように入力：
`@ProposalAgent 商品名「〇〇」 価格「1000円」 (画像URL/パス:省略可)`

### システムの処理フロー
1. **情報収集 (Research)**
   - ウェブ検索を実行し、商品の公式サイトやレビューから詳細情報を取得。
   - 画像が指定されていない場合、画像検索を行い候補を取得。
2. **思考・構成 (Reasoning via Gemini)**
   - 収集した情報をGeminiに渡し、以下のJSON形式等で構造化。
     - 商品名
     - キャッチコピー
     - 3つの主要ベネフィット
     - 推奨コメント（ベネフィットを自然な文章にまとめる）
3. **ドキュメント生成 (Generation)**
   - 事前に定義された「美しいテンプレート（HTML/CSS）」に情報を流し込む。
   - デザインは「見やすく、プレミアム感のある」ものを採用。

## 構成案 (Architecture)

### [Input]
- User Interface: Antigravity Chat or Python CLI
- Arguments: `product_name`, `price`, `image_path` (optional)

### [Process]
- **Script**: `create_proposal.py`
- **Libraries**:
    - `google-generativeai` (Gemini)
    - `duckduckgo-search` or `google-api-python-client` (Search)
    - `jinja2` (Templating for HTML)

### [Output]
- **File**: `proposals/YYYY-MM-DD_商品名.html` (または .md)
- **Preview**: ブラウザで即座に確認可能な形式。

## 検証計画 (Verification Plan)
1. **テスト実行**: 架空の商品（例：「獺祭 純米大吟醸 磨き二割三分」）でスクリプトを実行。
2. **品質確認**:
   - 情報が正確か？
   - ベネフィットが顧客目線か？
   - 画像が適切に表示されているか？
   - レイアウトが崩れていないか？
